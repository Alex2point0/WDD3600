"use strict";var Product=require("../models/product");exports.getProducts=function(t,r,o){Product.fetchAll().then(function(t){r.render("shop/product-list",{prods:t,pageTitle:"All Products",path:"/products"})}).catch(function(t){console.log(t)})},exports.getProduct=function(t,r,o){var e=t.params.productId;Product.findByPk(e).then(function(t){r.render("shop/product-detail",{product:t,pageTitle:t.title,path:"/products"})}).catch(function(t){return console.log(t)})},exports.getIndex=function(t,r,o){Product.fetchAll().then(function(t){r.render("shop/index",{prods:t,pageTitle:"Shop",path:"/"})}).catch(function(t){console.log(t)})},exports.getCart=function(t,r,o){t.user.getCart().then(function(t){r.render("shop/cart",{path:"/cart",pageTitle:"Your Cart",products:t})}).catch(function(t){return console.log(t)})},exports.postCart=function(r,o,t){var e=r.body.productId;Product.findbyid(e).then(function(t){return r.user.addToCart(t)}).then(function(t){console.log(t),o.redirect("/cart")})},exports.postCartDeleteProduct=function(t,r,o){var e=t.body.productId;t.user.deleteItemFromCart(e).then(function(t){r.redirect("/cart")}).catch(function(t){return console.log(t)})},exports.postOrder=function(t,r,o){t.user.addOrder().then(function(t){r.redirect("/orders")}).catch(function(t){return console.log(t)})},exports.getOrders=function(t,r,o){t.user.getOrders().then(function(t){r.render("shop/orders",{path:"/orders",pageTitle:"Your Orders",orders:t})}).catch(function(t){return console.log(t)})};
//# sourceMappingURL=shop.min.js.map
