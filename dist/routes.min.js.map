{"version":3,"sources":["routes.js"],"names":["fs","require","requestHandler","req","res","url","method","write","end","body","on","chunk","console","log","push","message","Buffer","concat","toString","split","parsedBody","statusCode","writeFile","setHeader","exports","someText"],"mappings":"aAAA,IAAMA,GAAKC,QAAQ,MAAXC,eAAR,SAAAC,EAAAC,GAGI,IAAMC,EAAMF,EAAIE,IADdH,EAAcC,EAAGG,OAEnB,GAAeH,MAATG,EAKMC,OAFJH,EAAIG,MAAM,UADZH,EAAKG,MAAI,4CACHA,EAAMA,MAAV,mIACIA,EAAMA,MAAA,WACAH,EAAAI,MAGjB,GAAA,aAAAH,GAAA,SAAAC,EAAA,CAGG,IAAMG,EAAO,GAGTA,OAJLJ,EAAGK,GAAK,OAAA,SAARC,GACWC,QAAVC,IAAAF,GACOF,EAAPK,KAAeH,KAEXR,EAAUQ,GAAV,MAAA,WAFJ,IAIcI,EAJdC,OAAAC,OAAAR,GAAAS,WAI2BC,MAAA,KAAA,GACjBC,GAAAA,UAAaJ,cAAcP,EAAMS,SAAAA,GAG/BG,OAFFN,EAAUK,WAAWD,IACxBG,EAAUC,UAAA,WAAb,KACInB,EAAiBI,UAK5BJ,EAAAmB,UAAA,eAAA,aAGDnB,EAAIG,MAAM,UADVH,EAAImB,MAAAA,4CACJnB,EAAIG,MAAM,uDACVH,EAAIG,MAAM,WACVH,EAAIG,OAgBJiB,QAAQC,QAAWvB,eAAnBsB,QAAQC,SAAW","file":"routes.min.js","sourcesContent":["const fs = require('fs');\r\n\r\nconst requestHandler = (req, res) => {\r\n    const url = req.url;\r\n    const method = req.method;\r\n\r\n    if(url === '/'){\r\n            res.write('<html>');\r\n            res.write('<head><title>Enter Message</title><head>');\r\n            res.write('<body><form action=\"/message\" method=\"POST\"><input type=\"text\" name=\"message\"><button type=\"submit\">Send</button></form></body>');\r\n            res.write('</html>');\r\n            return res.end();\r\n    }\r\n    \r\n    if(url === '/message' && method === 'POST'){\r\n        const body = [];\r\n        req.on('data', (chunk) => {\r\n            console.log(chunk)\r\n            body.push(chunk);\r\n        });\r\n        return req.on('end', () => {\r\n            const parsedBody = Buffer.concat(body).toString();\r\n            const message = parsedBody.split('=')[1];\r\n            fs.writeFile('message.txt', message, err => {\r\n                res.statusCode = 302;\r\n                res.setHeader('Location', '/');\r\n                return res.end();\r\n            });\r\n        });\r\n    }\r\n    \r\n    res.setHeader('Content-Type', 'text/html');\r\n    res.write('<html>');\r\n    res.write('<head><title>My First Page</title><head>');\r\n    res.write('<body><h1>Hello from my Node.js Server!</h1></body>');\r\n    res.write('</html>');\r\n    res.end();\r\n};\r\n\r\n    // module.exports = requestHandler;\r\n\r\n    // module.exports = {\r\n    //    handler: requestHandler,\r\n    //    someText: 'Some hard coded text'\r\n    // };\r\n\r\n    // module.exports.handler = requestHandler;\r\n    // module.exports.someText = 'Some text';\r\n\r\n    exports.handler = requestHandler;\r\n    exports.someText = 'Some hard coded text';"]}