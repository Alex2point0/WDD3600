"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var mongodb=require("mongodb"),getDb=require("../util/database").getDb,Product=function(){function r(e,t,n,o,c,i){_classCallCheck(this,r),this.title=e,this.price=t,this.description=n,this.imageUrl=o,this._id=c?new mongodb.ObjectId(c):null,this.userId=i}return _createClass(r,[{key:"save",value:function(){var e=getDb();return(this._id?e.collection("products").updateOne({_id:this._id},{$set:this}):e.collection("products").insertOne(this)).then(function(e){console.log(e)}).catch(function(e){console.log(e)})}}],[{key:"fetchAll",value:function(){return getDb().collection("products").find().toArray().then(function(e){return console.log(e),e}).catch(function(e){console.log(e)})}},{key:"findbyid",value:function(e){return getDb().collection("products").find({_id:mongodb.ObjectId(e)}).next().then(function(e){return console.log(e),e}).catch(function(e){console.log(e)})}},{key:"deleteById",value:function(e){return getDb().collection("products").deleteOne({_id:new mongodb.ObjectId(e)}).then(function(e){console.log("Delete")}).catch(function(e){console.log(e)})}}]),r}();module.exports=Product;
//# sourceMappingURL=product.min.js.map
