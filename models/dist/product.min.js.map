{"version":3,"sources":["product.js"],"names":["fs","require","path","p","join","dirname","process","mainModule","filename","getProductsFromFile","cb","err","fileContent","Product","title","imageUrl","description","price","_classCallCheck","this","JSON","parse","_this","products","push","writeFile","stringify","console","log"],"mappings":"mZAAA,IAAMA,GAAKC,QAAQ,MACbC,KAAOD,QAAQ,QAEfE,EAAID,KAAKE,KACbF,KAAKG,QAAQC,QAAQC,WAAWC,UAChC,OAAQ,iBAEJC,oBAAsB,SAAAC,GAP5BV,GAAMA,SAAKC,EAAQ,SAAAU,EAAnBC,GACMV,EAQES,EARE,GAEAT,KAAKE,MACbF,OAMIQ,OAAAA,QAAAA,WACD,SAAAG,EAAMC,EAAAC,EAAAC,EAAAC,GAAAC,gBAAAC,KAAAN,GACLH,KAAGU,MAAKC,EACTF,KAAAJ,SAAAA,EALHI,KAAAH,YAAAA,EADFG,KAAAF,MAAAA,EAGMP,OAAAA,aAAAA,EAAAA,CAAAA,CAAAA,IAAAA,OAAAA,MAAAA,WAON,IAAAY,EAAAH,KAAAV,oBAAA,SAAAc,GACEA,EAAAC,KAAaV,GAAqCd,GAAAyB,UAAAtB,EAAAiB,KAAAM,UAAAH,GAAA,SAAAZ,GAW5CgB,QAAQC,IAAIjB,UAnBdD,CAAAA,CAAAA,IAAAA,WAAAA,MAAAA,SAyBaA,GAlBnBD,oBAAAC,OAPMA,EAAAA","file":"product.min.js","sourcesContent":["const fs = require('fs')\r\nconst path = require('path')\r\n\r\nconst p = path.join(\r\n  path.dirname(process.mainModule.filename),\r\n  'data', 'products.json')\r\n\r\nconst getProductsFromFile = cb => {\r\n  fs.readFile(p, (err, fileContent) => {\r\n    if (err) {\r\n      cb([])\r\n    } else {\r\n      cb(JSON.parse(fileContent))\r\n    }\r\n  })\r\n}\r\n\r\nmodule.exports = class Product {\r\n  constructor (title, imageUrl, description, price) {\r\n    this.title = title\r\n    this.imageUrl = imageUrl\r\n    this.description = description\r\n    this.price = price\r\n  }\r\n\r\n  save () {\r\n    getProductsFromFile(products => {\r\n      products.push(this)\r\n      fs.writeFile(p, JSON.stringify(products), (err) => {\r\n        console.log(err)\r\n      })\r\n    })\r\n  }\r\n\r\n  // similar to a utility function that calls not on a single instance of an object but retrieves all data from object.\r\n  static fetchall (cb) {\r\n    getProductsFromFile(cb)\r\n  }\r\n}\r\n"]}